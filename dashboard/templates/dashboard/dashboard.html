<!DOCTYPE html>
<html>
<head>
    {% for module, values in modules.items %}
        {% with id=values.id|escapejs %}
        {% include values.styles|escapejs %}
        <style>
            #{{ id }} {
                position: absolute;
                z-index: 9;
                top: {{values.top}}px;
                left: {{values.left}}px;
            }
        </style>
        {% endwith %}
    {% endfor %}
    {% block update-styles %}{% endblock %}

    {% if title %}
        <title>{{ title }}</title>
    {% else %}
        <title>Dashboard</title>
    {% endif %}
</head>
<body>
    {% block update-content %}{% endblock %}
    <h1>{{ user }}'s Dashboard</h1>
    {% for module, values in modules.items %}
        <div id="{{ values.id|escapejs }}">
            {% include values.page|escapejs %}
        </div>
    {% endfor %}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

    {% for module, values in modules.items %}  
        {% include values.scripts|escapejs %}
    {% endfor %}

    {% block update-scripts %}{% endblock %}
</body>
</html>